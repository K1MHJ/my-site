---
---

<button id="theme-toggle" class="theme-toggle" aria-label="í…Œë§ˆ ì „í™˜">
  <span class="theme-toggle-icon">ðŸŒ™</span>
</button>

<script is:inline>
  (function() {
    // ì´ˆê¸° í…Œë§ˆ ì„¤ì • (localStorage ë˜ëŠ” ì‹œìŠ¤í…œ ì„¤ì •)
    const getTheme = () => {
      const saved = localStorage.getItem('theme');
      if (saved) return saved;
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };

    const setTheme = (theme) => {
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      
      const icon = document.querySelector('.theme-toggle-icon');
      if (icon) {
        icon.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ðŸŒ™';
      }
    };

    // ì´ˆê¸° í…Œë§ˆ ì ìš©
    const initialTheme = getTheme();
    setTheme(initialTheme);

    // í† ê¸€ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    const toggle = document.getElementById('theme-toggle');
    if (toggle) {
      toggle.addEventListener('click', () => {
        const current = document.documentElement.getAttribute('data-theme');
        const newTheme = current === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
      });
    }

    // ì‹œìŠ¤í…œ í…Œë§ˆ ë³€ê²½ ê°ì§€ (localStorageì— ì €ìž¥ëœ ê°’ì´ ì—†ì„ ë•Œë§Œ)
    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
      if (!localStorage.getItem('theme')) {
        setTheme(e.matches ? 'dark' : 'light');
      }
    });
  })();
</script>

<style>
  .theme-toggle {
    background: transparent;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    padding: 0.5rem;
    cursor: pointer;
    font-size: 1.2rem;
    line-height: 1;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .theme-toggle:hover {
    background: #f3f4f6;
    border-color: #d1d5db;
  }

  [data-theme="dark"] .theme-toggle {
    border-color: #374151;
  }

  [data-theme="dark"] .theme-toggle:hover {
    background: #374151;
    border-color: #4b5563;
  }

  .theme-toggle-icon {
    display: block;
  }
</style>

